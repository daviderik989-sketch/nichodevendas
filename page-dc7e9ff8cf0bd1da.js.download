try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="16605e04-8749-49ff-9783-3b24f44d1834",e._sentryDebugIdIdentifier="sentry-dbid-16605e04-8749-49ff-9783-3b24f44d1834")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5403],{34700:function(e,t,r){Promise.resolve().then(r.bind(r,7515))},28713:function(e,t,r){"use strict";r.d(t,{h:function(){return n}});let n="allow-scripts allow-same-origin allow-forms allow-modals allow-orientation-lock allow-pointer-lock allow-presentation allow-popups-to-escape-sandbox allow-popups allow-downloads allow-storage-access-by-user-activation"},7515:function(e,t,r){"use strict";r.d(t,{ChatPanel:function(){return Q}});var n=r(52155),a=r(98244),i=r(87294),s=r(77162),o=r(75748),l=r(62970),u=r(78159),c=r(61222);let d=e=>{let[t,r]=(0,a.useState)(!1),n=(0,a.useRef)(0),i=(0,a.useRef)(void 0);return(0,a.useEffect)(()=>{n.current=e.length,e.length>0&&(i.current=e[e.length-1])},[]),(0,a.useEffect)(()=>{if(0===e.length)return;let t=e[e.length-1];t!==i.current&&e.length>n.current&&(r(!0),i.current=t)},[e]),{shouldShowExtraSpace:t,hideExtraSpace:(0,a.useCallback)(()=>{r(!1),n.current=e.length,e.length>0&&(i.current=e[e.length-1])},[e])}};var f=r(99526);let m=e=>{let{sortedMessageIds:t,listRef:r}=e,n=(0,f.useSearchParams)().get("messageId");(0,a.useLayoutEffect)(()=>{if(!r.current||0===t.length)return;let e=t.length-1;if(n){let e=t.indexOf(n);e>=0&&r.current.scrollToIndex(e,{align:"start"})}else r.current.scrollToIndex(e,{align:"end"})},[])},g=e=>{let[t,r]=(0,a.useState)(0);return(0,a.useEffect)(()=>{let t=e.current;if(!t)return;let n=()=>{r(t.offsetHeight)};n();let a=new ResizeObserver(n);return a.observe(t),window.addEventListener("resize",n),()=>{a.disconnect(),window.removeEventListener("resize",n)}},[e]),t},p=e=>{let{listRef:t,containerRef:r,itemIndex:n,messagesLength:i}=e,[s,o]=(0,a.useState)(0);return(0,a.useEffect)(()=>{if(n<0||!t.current)return;let e=()=>{if(t.current&&n>=0){let e=t.current.getItemOffset(n);e&&o(e)}};e();let a=r.current,i=null;return a&&(i=new ResizeObserver(e)).observe(a),window.addEventListener("resize",e),()=>{i&&a&&i.disconnect(),window.removeEventListener("resize",e)}},[t,r,n,i]),s},v=e=>{let{shouldShowExtraSpace:t,listRef:r,containerRef:n,lastUserMessageIndex:i,lastMessageIndex:s,messageCount:o}=e,l=g(n),u=p({listRef:r,containerRef:n,itemIndex:i,messagesLength:o}),c=p({listRef:r,containerRef:n,itemIndex:s,messagesLength:o})-u,d=(0,a.useRef)(0);return(0,a.useMemo)(()=>{let e=d.current,r=l-c;return t?r>0?e=r:r<0&&(e=0):e=0,d.current=e,e},[t,l,c])};var h=r(30025),E=r(21198),_=r(3989),y=r(71919);let b=e=>{let{sortedMessageIds:t,listRef:r,containerRef:n}=e,i=(0,E.aK)(e=>e.messages),s=(0,_.hT)(e=>e.chatMode!==_.jE.DEFAULT),o=(0,a.useCallback)(()=>{for(let e=t.length-1;e>=0;e--){let r=t[e],n=i[r];if((null==n?void 0:n.type)==="userMessage")return r}return null},[t,i]),l=(0,a.useRef)(o()),u=t.length-1,c=(0,a.useMemo)(()=>{for(let e=t.length-1;e>=0;e--){let r=i[t[e]];if((null==r?void 0:r.type)==="userMessage")return e}return -1},[t,i]),f=(0,a.useCallback)(()=>{setTimeout(()=>{var e;null===(e=r.current)||void 0===e||e.scrollToIndex(u,{align:"end"})},0)},[u,r]),g=(0,a.useCallback)(()=>{setTimeout(()=>{var e;null===(e=r.current)||void 0===e||e.scrollToIndex(u,{smooth:!0})},0)},[u,r]);(0,a.useEffect)(()=>{if(0===t.length){l.current=null;return}let e=t[t.length-1],r=i[e],n=i[t[t.length-2]];((null==r?void 0:r.type)==="userMessage"||s&&(null==n?void 0:n.type)==="userMessage"&&(null==r?void 0:r.type)==="aiMessage"&&"running"===r.status)&&e!==l.current&&(g(),l.current=e)},[t,i,g,s]);let{shouldShowExtraSpace:p,hideExtraSpace:b}=d(t),N=v({shouldShowExtraSpace:p,listRef:r,containerRef:n,lastUserMessageIndex:c,lastMessageIndex:u,messageCount:t.length});m({sortedMessageIds:t,listRef:r});let{isScrollable:x,isScrolledToEnd:I,isScrolledToStart:w,checkScrollPosition:S}=(0,h.W)({listRef:r,containerRef:n}),R=(0,y.UC)(e=>e.isVisualEditingActive);return(0,a.useEffect)(()=>{R&&!p&&f(),R||b()},[R]),{newMessageMinHeight:N,scrollToEnd:f,isScrollable:x,isScrolledToEnd:I,isScrolledToStart:w,checkScrollPosition:S}},N=e=>{let{listRef:t}=e,{store:r,snapshot:n}=(0,E.mx)();return(0,a.useCallback)(e=>{let a,{type:i,value:s}=e,o=r.getState().sortedMessageIds;if("editId"===i){let e=n.getMessageByEditId(s);e&&(a=o.indexOf(e.id))}else if("shortCommitHash"===i){let e=n.getUserCommitMessageByShortCommitHash(s);e&&(a=o.indexOf(e.id))}t.current&&void 0!==a&&a>=0&&t.current.scrollToIndex(a,{align:"start"})},[n,r,t])};var x=r(52162),I=r(88182),w=r(99792),S=r(4578),R=e=>{let{isScrollable:t,isScrolledToEnd:r,scrollToEnd:a}=e;return(0,n.jsx)(x.M,{children:t&&!r&&(0,n.jsx)(I.E.button,{className:(0,S.cn)("pointer-events-auto z-[1000] flex size-9 items-center justify-center rounded-full border border-muted-border bg-muted shadow-md transition-colors hover:bg-muted-hover md:size-7"),"aria-label":"Scroll to bottom",initial:{translateY:8,opacity:0},animate:{translateY:0,opacity:1},exit:{translateY:0,opacity:0},transition:{duration:.15,bounce:0},onClick:a,children:(0,n.jsx)(w.Z,{name:"arrow_downward",size:"small"})})})},C=r(28375),T=r(52532),O=r(26047);let j=()=>{let[e,t]=(0,T.Z)("message-status-bar-visible",{defaultValue:!1});return{isVisible:e,toggleVisibility:()=>t(e=>!e)}},M=()=>{let e=(0,O.v)(),t=(0,E.aK)(e=>e.sortedMessageIds),r=(0,E.aK)(e=>e.messages),{isVisible:i}=j(),s=(0,a.useMemo)(()=>e?t.map(e=>{let t=r[e];return!!t&&("userMessage"===t.type||"aiMessage"===t.type)&&t.content.includes("Please think step-by-step")}):[],[t,r,e]);return e&&i?(0,n.jsx)("div",{className:"pointer-events-none absolute right-0 top-0 z-10 h-full w-0.5",children:(0,n.jsx)("div",{className:"relative h-full w-full",children:s.map((e,t)=>(0,n.jsx)("div",{className:(0,S.cn)("absolute w-full transition-colors duration-200",e?"bg-orange-500":"bg-transparent"),style:{top:"".concat(t/s.length*100,"%"),height:"".concat(100/s.length,"%")}},t))})}):null};var D=r(96659),L=r(70980);let A=e=>{let{show:t}=e;return(0,n.jsxs)(I.E.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:t?1:0},transition:{duration:.2,ease:"easeOut"},className:(0,S.cn)("relative ml-2 flex h-auto items-center justify-center gap-2 pt-1 text-muted-foreground"),children:[(0,n.jsx)(U,{}),(0,n.jsx)("p",{className:(0,S.cn)("text-base md:text-sm"),children:"Working..."})]})},P=e=>{let{children:t,scrolledToEnd:r,showThinkingIndicator:a}=e;return(0,n.jsx)(I.E.div,{className:(0,S.cn)("group pointer-events-none absolute inset-x-0 bottom-0 z-20 flex items-end justify-start bg-gradient-to-t from-background via-background/50 via-50% pb-2 pr-2 text-sm text-card-foreground",a&&"from-20% via-background/80 via-70%"),initial:{opacity:0},animate:{opacity:1,marginTop:r||!a?"-40px":"-64px",minHeight:r||!a?"40px":"64px"},exit:{opacity:0},transition:{duration:.1,ease:"easeOut"},children:t})},k=e=>{let{scrolledToEnd:t}=e,r=(0,L.bk)(e=>e.isSendChatMessageMutationPending),a=(0,_.hT)(e=>e.chatMode===_.jE.DEFAULT),i=(0,D.C)(),s=(0,L.bk)(e=>e.isSomeRevertMutationPending),o=r&&i||s,l=!t||o;return(0,n.jsx)(x.M,{children:l&&a&&(0,n.jsx)(P,{scrolledToEnd:t,showThinkingIndicator:o,children:(0,n.jsx)(A,{show:o})})})},U=()=>{let e=(0,i.Z)("md");return(0,n.jsx)(I.E.div,{className:"flex items-center justify-center",variants:{beat:{scale:[1,1.2,1,1,1,1.15,1,1.1,1,1,1,1],transition:{duration:2.4,repeat:1/0,ease:"easeOut",times:[0,.08,.16,.24,.32,.4,.46,.52,.58,.66,.8,1]}}},animate:"beat",children:(0,n.jsx)(w.Z,{name:"lovable_icon",size:e?"default":"small"})})},F=(0,a.memo)(()=>(0,E.aK)(e=>e.isInitialized)?(0,n.jsx)($,{}):(0,n.jsx)("div",{className:"flex flex-1 flex-grow flex-col items-center justify-center gap-2 text-sm",children:(0,n.jsx)(w.Z,{className:"animate-spin",name:"progress_activity"})}));F.displayName="Chat";let $=(0,a.memo)(()=>{let{loadEarlierMessages:e}=(0,E.mx)(),t=(0,a.useRef)(null),r=(0,a.useRef)(null),i=(0,E.aK)(e=>e.sortedMessageIds),s=(0,E.aK)(e=>e.hasOlderMessages),o=(0,E.aK)(e=>"loading"===e.loadingMessagesStatus),l=(0,E.aK)(e=>e.canLoadMoreMessages),{newMessageMinHeight:u,scrollToEnd:d,isScrollable:f,isScrolledToStart:m,isScrolledToEnd:g,checkScrollPosition:p}=b({sortedMessageIds:i,listRef:t,containerRef:r}),v=N({listRef:t});return(0,a.useEffect)(()=>{m&&s&&l&&e()},[m,s,l,e]),(0,n.jsxs)("div",{className:"relative flex min-h-0 w-full flex-1 shrink",ref:r,children:[(0,n.jsxs)("div",{className:"h-full w-full overflow-y-auto",style:{overflowAnchor:"none"},children:[m&&o&&(0,n.jsx)("div",{className:"absolute inset-x-0 top-0 z-10 flex h-8 items-start justify-center bg-gradient-to-t from-transparent to-background text-sm",children:(0,n.jsx)(w.Z,{className:"animate-spin",name:"progress_activity",size:"small"})}),(0,n.jsx)(c.dM,{keepMounted:i.length>0?[i.length-1]:void 0,ref:t,overscan:E.ei.MESSAGES_PAGE_SIZE,onScroll:()=>{p()},shift:f&&m,children:i.map((e,t)=>(0,n.jsx)(C.z,{messageId:e,previousMessageId:i[t-1],isLastMessage:t===i.length-1,newMessageMinHeight:u,scrollToEdit:v},e))}),g&&o&&(0,n.jsx)("div",{className:"flex items-center justify-center gap-2 text-sm",children:(0,n.jsx)(w.Z,{className:"animate-spin",name:"progress_activity",size:"small"})}),(0,n.jsx)(M,{})]}),(0,n.jsx)("div",{className:"pointer-events-none absolute inset-x-0 bottom-0 mb-4 flex w-full items-center justify-center",children:(0,n.jsx)(R,{scrollToEnd:d,isScrolledToEnd:g,isScrollable:f})}),(0,n.jsx)(k,{scrolledToEnd:g})]})});$.displayName="InnerChat";var H=r(29605),z=r(13018),W=r(50484),B=r(32282),K=r(76268),Y=r(7287),V=r(17001),G=r(10178),J=r(48890),Z=r(41173);let Q=()=>{let e=(0,s.D)(),t=(0,a.useRef)(null),r=(0,l.z)(e=>e.showHistory);!function(e){let t=(0,H.NL)().getQueryData(B.iZ.initialPrompt(e)),r=(0,H.NL)(),n=(0,a.useRef)(!1),{createOptimisticMessage:i}=(0,V.m)(),{setIsSendChatMessageMutationPending:s}=(0,L.Xr)(),{startLiveMode:o}=(0,Y.My)(),l=(0,G.OU)({projectId:e}),{setIsInitialized:u}=(0,E.mx)(),c=(0,z.dl)(W.P.SendMessageOnCreation)||!1;(0,a.useEffect)(()=>{var a,d;if(!t||n.current)return;n.current=!0;let f={id:t.id,message:t.message};(null===(a=t.selectedElements)||void 0===a?void 0:a.length)&&(f.selected_elements=t.selectedElements),(null===(d=t.images)||void 0===d?void 0:d.length)&&(f.optimisticImageUrls=t.images.map(e=>e.url),f.images=t.images.map(e=>({image_id:e.id,type:K.V.USER_UPLOAD}))),t.chatOnly&&(f.chat_only=t.chatOnly),t.agentMode&&(f.agent_mode=t.agentMode),t.builderToken&&(f.builder_token=t.builderToken),t.model&&(f.model=t.model),t.ai_message_id&&(f.ai_message_id=t.ai_message_id),f.is_creation=!0,c?(u(!0),s(!0),i({body:f})):l.mutate({body:f,isCreation:!0}),o(),r.invalidateQueries({queryKey:B.E.all}),r.removeQueries({queryKey:B.iZ.initialPrompt(e)})},[t,e,u,s,i,r,c,l,o])}(e);let{canEdit:c}=(0,o.t)(),d=(0,i.Z)("md");return c?(0,n.jsxs)("div",{className:"flex min-h-0 w-full flex-1 flex-col pl-2",ref:t,children:[(0,n.jsx)(Z.A,{}),r&&!d?(0,n.jsx)(u.p,{}):(0,n.jsx)(F,{}),!d&&(0,n.jsx)(J.t,{chatPanelRef:t})]}):null}},86818:function(e,t,r){"use strict";r.d(t,{UL:function(){return m},hw:function(){return g},t6:function(){return v},v7:function(){return p}});var n,a=r(52155),i=r(48535),s=r(94127),o=r(26696),l=r(4578),u=r(10178),c=r(39230);(n||(n={})).AI_FIX="AI Fix";let{AI_FIX:d}=n;s.N.NO_CODE_CHANGE,s.N.CODE_DIFF,s.N.FILE_EDITED_WITHOUT_PERMISSION,s.N.EXCLUDED_FILE_EDITED,s.N.DEPENDENCY_INSTALL,s.N.IMMEDIATE_RUNTIME,s.N.RUNTIME,s.N.BUILD,s.N.HTTP_CLIENT_ERROR,s.N.HTTP_SERVER_ERROR,s.N.SUPABASE_EDGE_FUNCTION_ERROR,s.N.CORS_ERROR,s.N.DEPLOY_SUPABASE_FUNCTIONS,s.N.SUPABASE_SQL_ERROR,s.N.SEARCH_REPLACE_FAILED,s.N.SEARCH_REPLACE_MISSING_FILE,s.N.CHANGED_MISSING_FILE,s.N.RENAME_FAILED,s.N.DELETION_FAILED;let f=e=>{let t=(0,i.H$)(e),r=t.length>1?e=>"# Error number ".concat(e+1,":\n#################\n\n"):()=>"",n=t.map((e,t)=>"".concat(r(t)).concat(e.error_message,"\n").concat(e.meta_data?"\n"+JSON.stringify(e.meta_data,null,2):"")).join("\n\n").replace(/\x1B\[[0-9;]*[JKmsu]/g,"");return n.length>2e4?n.slice(0,2e4)+"... (truncated)":n},m=e=>{let{errors:t,roundedTop:r=!0}=e;return(0,a.jsx)("div",{className:r?"mt-4":"",children:(0,a.jsx)("pre",{className:(0,l.cn)("w-full rounded-xl border-[3px] border-warning bg-background p-3 text-sm text-foreground",r?"mt-2 rounded-t-md":""),children:(0,a.jsx)("code",{className:"block w-full overflow-x-auto overflow-y-auto whitespace-pre-wrap",children:f(t)})})})},g=e=>{let{projectId:t,errors:r}=e,{mutate:n,isPending:a}=(0,u.mo)({projectId:t});return{onClick:()=>{n({body:{id:(0,c.Fd)(),message:"For the code present, I get the error below.\n\nPlease think step-by-step in order to resolve it.\n```\n".concat(f(r),"\n```\n"),mode:o.S.INSTANT,contains_error:!0,error_ids:r.map(e=>e.id)},projectId:t})},isPending:a}},p={[s.N.BUILD]:"Build unsuccessful",[s.N.CODE_DIFF]:"Changes couldn't be applied",[s.N.DEPLOY_SUPABASE_FUNCTIONS]:"Couldn't deploy Supabase functions",[s.N.DEPENDENCY_INSTALL]:"Couldn't install dependency",[s.N.FILE_EDITED_WITHOUT_PERMISSION]:"Tried editing file without permission",[s.N.EXCLUDED_FILE_EDITED]:"Unwanted changes",[s.N.IMMEDIATE_RUNTIME]:"Oops, it looks like our AI had a bit of a hiccup and broke the app",[s.N.NO_CODE_CHANGE]:"Changes already applied",[s.N.RUNTIME]:"The app encountered an error",[s.N.HTTP_CLIENT_ERROR]:"The app encountered an error",[s.N.HTTP_SERVER_ERROR]:"The app encountered an error",[s.N.SUPABASE_EDGE_FUNCTION_ERROR]:"The app encountered an error",[s.N.CORS_ERROR]:"The app encountered an error",[s.N.SUPABASE_SQL_ERROR]:"An error occurred while applying the migration",[s.N.SEARCH_REPLACE_FAILED]:"Failed search-replace",[s.N.SEARCH_REPLACE_MISSING_FILE]:"Search-replace on missing file",[s.N.CHANGED_MISSING_FILE]:"Tried deleting or renaming non-existent file",[s.N.RENAME_FAILED]:"Failed to rename file",[s.N.DELETION_FAILED]:"Failed to delete file"},v={[s.N.BUILD]:!0,[s.N.CODE_DIFF]:!0,[s.N.SUPABASE_EDGE_FUNCTION_ERROR]:!0,[s.N.DEPENDENCY_INSTALL]:!0,[s.N.DEPLOY_SUPABASE_FUNCTIONS]:!0,[s.N.HTTP_CLIENT_ERROR]:!0,[s.N.HTTP_SERVER_ERROR]:!0,[s.N.CORS_ERROR]:!0,[s.N.FILE_EDITED_WITHOUT_PERMISSION]:!0,[s.N.EXCLUDED_FILE_EDITED]:!0,[s.N.IMMEDIATE_RUNTIME]:!0,[s.N.NO_CODE_CHANGE]:!0,[s.N.RUNTIME]:!0,[s.N.SUPABASE_SQL_ERROR]:!0,[s.N.SEARCH_REPLACE_FAILED]:!0,[s.N.SEARCH_REPLACE_MISSING_FILE]:!0,[s.N.CHANGED_MISSING_FILE]:!0,[s.N.RENAME_FAILED]:!0,[s.N.DELETION_FAILED]:!0}},45417:function(e,t,r){"use strict";r.d(t,{C:function(){return o}});var n=r(54816),a=r(10178),i=r(96659),s=r(84864);let o=e=>{let{projectId:t,setIsOpen:r}=e,o=(0,i.C)(),l=(0,a.mo)({projectId:t,onSuccess:()=>{null==r||r(!1)}}),u=l.isPending,c=o||u;return{isSendingSecurityReview:u,isSecurityReviewDisabled:c,securityReviewDisabledReason:o?"Wait for Lovable to finish working":null,handleSecurityReview:()=>{if(!t){s.logging.error("project id is missing, can't start security review");return}c||l.mutate({body:{message:"Please perform a comprehensive security review of my project.",id:(0,n.Z)(),security_review:!0,chat_only:!0}})}}}},4494:function(e,t,r){"use strict";r.d(t,{M$:function(){return n},X7:function(){return o},_s:function(){return i},b2:function(){return a}});let n=e=>{switch(e){case"error":return"destructive";case"warn":return"warning";default:return"outline"}},a=e=>{switch(e){case"error":return"text-destructive-foreground";case"warn":return"text-warning-foreground";default:return"text-muted-foreground"}},i=e=>{switch(e.toLowerCase()){case"warn":return"Warning";case"error":return"Error";case"info":return"Info";default:return e.charAt(0).toUpperCase()+e.slice(1)}},s={open_table:"Database Schema",supabase:"Supabase",supabase_lov:"LLM Database Check"},o=e=>{var t;return null!==(t=s[e])&&void 0!==t?t:e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}},48588:function(e,t,r){"use strict";r.d(t,{IT:function(){return s},Oh:function(){return a},xK:function(){return i}});let n=e=>["info","warn","error"].includes(e.toLowerCase()),a=e=>{try{let t=e.match(RegExp("^Security Finding:\\s*\\[(\\w+)\\]\\s*([^\\n\\r]+)(?:[\\n\\r]+(.+))?$","s"));if(!t)return null;let[,r,a,i=""]=t,s=r.toLowerCase();if(!n(s))return null;return{id:"parsed-".concat(Date.now()),level:s,name:a.trim(),description:i.trim()}}catch(e){return null}},i=e=>"Security Finding: [".concat(e.level.toUpperCase(),"] ").concat(e.name,"\n\nI found a security issue that needs to be analyzed and fixed:\n\nIssue: ").concat(e.name,"\nLevel: ").concat(e.level,"\nDescription: ").concat(e.description,"\n\nPlease analyze this security issue in my project and provide a fix if possible. Make sure the fix doesn't break existing functionality and follows security best practices. If you need to modify files, please do so carefully and explain the changes."),s=()=>crypto.randomUUID?crypto.randomUUID():"msg_".concat(Date.now(),"_").concat(Math.random())},96659:function(e,t,r){"use strict";r.d(t,{C:function(){return s}});var n=r(98244),a=r(21517);let i=e=>{try{if(null==e)return!1;let t=e.toDate();if(new Date().getTime()-t.getTime()>6e4)return!1;return!0}catch(e){return!1}},s=()=>{let e=(0,a.iZ)(e=>e.project),t=null==e?void 0:e.locked_at,[r,s]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{if(!t||!i(t)){s(!1);return}let e=setInterval(()=>{let r=i(t);s(r),r||clearInterval(e)},250);return()=>clearInterval(e)},[t]),r}},54140:function(e,t,r){"use strict";r.d(t,{N:function(){return l}});var n=r(52155),a=r(98244),i=r(3415),s=r(84183),o=r(4578);let l=e=>{let{name:t,isInteractive:r,className:l,photoSrc:u,userColor:c,isWorkspace:d=!1,tooltipContent:f=t,...m}=e,g=t?t.charAt(0).toUpperCase():"",[p,v]=(0,a.useState)(!1);return(0,n.jsxs)(s.u,{open:!!r&&!!t&&p,onOpenChange:v,children:[(0,n.jsx)(s.aJ,{asChild:!0,children:(0,n.jsxs)(i.qE,{className:(0,o.cn)("h-[26px] w-[26px] shrink-0 border border-transparent text-xs",{["hover:bg-".concat(c)]:!u&&!d&&r,"cursor-pointer":r,["hover:border-".concat(c)]:r,["group-[.avatars]:hover:border-".concat(c)]:r,"group-[.avatars]:border-background":!0,"rounded-[8px] hover:border-transparent":d},l),...m,children:[(0,n.jsx)(i.F$,{className:"aspect-auto object-cover",src:u}),(0,n.jsx)(i.Q5,{className:(0,o.cn)("font-medium text-white bg-".concat(c),d&&"rounded-[8px]",l),children:g})]})}),(0,n.jsx)(s._v,{children:f})]})}},60468:function(e,t,r){"use strict";r.d(t,{Y:function(){return s}});var n=r(52155),a=r(54140),i=r(92887);let s=e=>{var t;let{isInteractive:r=!1,className:s,user:o,photoURL:l,...u}=e,c=(0,i.Q)(null==o?void 0:o.id),d=(null==o?void 0:null===(t=o.attributes)||void 0===t?void 0:t.display_name)||(null==o?void 0:o.username)||(null==o?void 0:o.id);return(0,n.jsx)(a.N,{name:d,isInteractive:r,photoSrc:l,userColor:c,className:s,...u})}},3415:function(e,t,r){"use strict";r.d(t,{F$:function(){return l},Q5:function(){return u},qE:function(){return o}});var n=r(52155),a=r(12553),i=r(98244),s=r(4578);let o=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)(a.fC,{ref:t,className:(0,s.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...i})});o.displayName=a.fC.displayName;let l=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)(a.Ee,{ref:t,className:(0,s.cn)("aspect-square h-full w-full",r),...i})});l.displayName=a.Ee.displayName;let u=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)(a.NY,{ref:t,className:(0,s.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...i})});u.displayName=a.NY.displayName},7815:function(e,t,r){"use strict";r.d(t,{NI:function(){return v},Wi:function(){return d},l0:function(){return u},lX:function(){return p},pf:function(){return h},xJ:function(){return g},zG:function(){return E}});var n=r(52155),a=r(21622),i=r(98244),s=r(96869),o=r(30335),l=r(4578);let u=s.RV,c=i.createContext({}),d=e=>{let{...t}=e;return(0,n.jsx)(c.Provider,{value:{name:t.name},children:(0,n.jsx)(s.Qr,{...t})})},f=()=>{let e=i.useContext(c),t=i.useContext(m),{getFieldState:r,formState:n}=(0,s.Gc)(),a=r(e.name,n);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=t;return{id:o,name:e.name,formItemId:"".concat(o,"-form-item"),formDescriptionId:"".concat(o,"-form-item-description"),formMessageId:"".concat(o,"-form-item-message"),...a}},m=i.createContext({}),g=i.forwardRef((e,t)=>{let{className:r,...a}=e,s=i.useId();return(0,n.jsx)(m.Provider,{value:{id:s},children:(0,n.jsx)("div",{ref:t,className:(0,l.cn)("space-y-2",r),...a})})});g.displayName="FormItem";let p=i.forwardRef((e,t)=>{let{className:r,...a}=e,{error:i,formItemId:s}=f();return(0,n.jsx)(o.Label,{ref:t,className:(0,l.cn)(i&&"",r),htmlFor:s,...a})});p.displayName="FormLabel";let v=i.forwardRef((e,t)=>{let{...r}=e,{error:i,formItemId:s,formDescriptionId:o,formMessageId:l}=f();return(0,n.jsx)(a.g7,{ref:t,id:s,"aria-describedby":i?"".concat(o," ").concat(l):"".concat(o),"aria-invalid":!!i,...r})});v.displayName="FormControl";let h=i.forwardRef((e,t)=>{let{className:r,...a}=e,{formDescriptionId:i}=f();return(0,n.jsx)("p",{ref:t,id:i,className:(0,l.cn)("text-sm text-muted-foreground",r),...a})});h.displayName="FormDescription";let E=i.forwardRef((e,t)=>{let{className:r,children:a,...i}=e,{error:s,formMessageId:o}=f(),u=s?String(null==s?void 0:s.message):a;return u?(0,n.jsx)("p",{ref:t,id:o,className:(0,l.cn)("text-xs font-medium text-destructive-primary",r),...i,children:u}):null});E.displayName="FormMessage"},30335:function(e,t,r){"use strict";r.d(t,{Label:function(){return u}});var n=r(52155),a=r(30541),i=r(34255),s=r(98244),o=r(4578);let l=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=s.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)(a.f,{ref:t,className:(0,o.cn)(l(),r),...i})});u.displayName=a.f.displayName},25938:function(e,t,r){"use strict";r.d(t,{SP:function(){return u},dr:function(){return l},mQ:function(){return o},nU:function(){return c}});var n=r(52155),a=r(41932),i=r(98244),s=r(4578);let o=a.fC,l=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)(a.aV,{ref:t,className:(0,s.cn)("inline-flex h-9 items-center justify-center rounded-lg p-1 text-muted-foreground",r),...i})});l.displayName=a.aV.displayName;let u=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)(a.xz,{ref:t,className:(0,s.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",r),...i})});u.displayName=a.xz.displayName;let c=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)(a.VY,{ref:t,className:(0,s.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...i})});c.displayName=a.VY.displayName},76222:function(e,t,r){"use strict";r.d(t,{c:function(){return l}});var n=r(75970),a=r(45776),i=r(33877);let s=(e,t)=>!!e&&!!t&&t.owner_id===e,o=()=>{let e=(0,i.MD)(),t=(0,i.q$)(t=>e?t.projectWorkspace:null),r=(0,a.i7)(t=>e?null:t.currentWorkspace);return t||r},l=()=>{let{authUser:e}=(0,n.Eu)(),t=o();return s(null==e?void 0:e.uid,t)}},47684:function(e,t,r){"use strict";r.d(t,{F:function(){return s}});var n=r(52155),a=r(84183),i=r(98244);let s=e=>{let[t,r]=(0,i.useState)(!1),s=(0,i.useRef)(),o=(0,i.useCallback)(e=>{e&&(clearTimeout(s.current),navigator.clipboard.writeText(e),r(!0),s.current=setTimeout(()=>{r(!1)},1e3))},[]);return r=>{let{TriggerComponent:i,textToCopy:s,copiedFeedbackText:l="Copied!"}=r;return(0,n.jsx)(a.pn,{children:(0,n.jsxs)(a.u,{open:t,children:[(0,n.jsx)(a.aJ,{onClick:t=>{(null==e||!e.altKey||t.altKey)&&s&&o(s)},asChild:!0,className:"hello",children:(0,n.jsx)(i,{})}),(0,n.jsx)(a._v,{children:(0,n.jsx)("p",{children:l})})]})})}}},61504:function(e,t,r){"use strict";r.d(t,{O:function(){return l}});var n=r(68820),a=r(98244),i=r(75970),s=r(94671),o=r(32282);let l=e=>{var t,r,l,c,d;let{isAuthenticated:f,authUser:m}=(0,i.Eu)(),{data:g}=(0,n.a)({queryKey:[...o.E.detail(null!==(t=null==e?void 0:e.id)&&void 0!==t?t:""),"users",null!==(r=null==m?void 0:m.uid)&&void 0!==r?r:"","monthly-usage"],queryFn:async()=>(null==e?void 0:e.id)&&(null==m?void 0:m.uid)?(0,s.SJ)().get("/workspaces/".concat(null==e?void 0:e.id,"/user-monthly-usage")):{user_monthly_usage:0,max_usage:0},enabled:!!(null==e?void 0:e.id)&&!!(null==m?void 0:m.uid)}),p=(0,a.useMemo)(()=>{var t;if(e&&f)return(null!==(t=e.credits_granted)&&void 0!==t?t:0)-e.credits_used>0||e.daily_credits_used<e.daily_credits_limit||(e.billing_period_credits_used||0)<e.billing_period_credits_limit},[e,f]),v=null==e?void 0:e.daily_credits_limit,h=null==e?void 0:e.daily_credits_used;return{dailyCreditLimit:v,dailyCreditsUsed:h,billingPeriodCreditLimit:null==e?void 0:e.billing_period_credits_limit,billingPeriodCreditsUsed:null==e?void 0:e.billing_period_credits_used,totalCreditsUsedInBillingPeriod:null==e?void 0:e.total_credits_used_in_billing_period,rolloverCredits:(null==e?void 0:e.rollover_credits_limit)!==void 0&&(null==e?void 0:e.rollover_credits_used)!==void 0?e.rollover_credits_limit-e.rollover_credits_used:void 0,bonusCredits:(null==e?void 0:e.credits_granted)!==void 0?e.credits_granted-(null!==(l=e.credits_used)&&void 0!==l?l:0):void 0,areCreditsAvailable:p,billingPeriodEndDate:u(null==e?void 0:e.billing_period_end_date),userMonthlyUsage:null!==(c=null==g?void 0:g.user_monthly_usage)&&void 0!==c?c:0,maxUserMonthlyUsage:null!==(d=null==g?void 0:g.max_usage)&&void 0!==d?d:0}},u=e=>e?"string"==typeof e?new Date(e):e.toDate():null},48535:function(e,t,r){"use strict";r.d(t,{H$:function(){return p},hT:function(){return E},qV:function(){return v}});var n=r(56166),a=r(95713),i=r(98244),s=r(43456),o=r(7287),l=r(94671),u=r(92361),c=r(84864),d=r(94127),f=r(66813),m=r(17138);function g(e){var t,r,n;let a=e.meta_data?"|".concat(null===(t=e.meta_data)||void 0===t?void 0:t.colno,"|").concat(null===(r=e.meta_data)||void 0===r?void 0:r.lineno,"|").concat(null===(n=e.meta_data)||void 0===n?void 0:n.filename):"";return"".concat(e.error_message,"|").concat(e.type).concat(a)}function p(e){return e.filter((e,t,r)=>t===r.findIndex(t=>g(t)===g(e)))}function v(e){let{projectId:t,errorIds:r,setErrors:a}=e;return(0,n.D)({mutationFn:async()=>(a([]),(0,l.SJ)().patch("/projects/".concat(t,"/handle-errors"),{error_ids:r})),onError:e=>{c.logging.error("failed_to_submit_handled_errors",{error:e})}})}let h=e=>{e.sort((e,t)=>e.type===d.N.RUNTIME&&t.type!==d.N.RUNTIME?-1:t.created_at.seconds-e.created_at.seconds);let t={uniqueErrors:[],runtimeErrorMessages:new Set};return e.reduce((e,t)=>{if(t.type===d.N.IMMEDIATE_RUNTIME||t.type===d.N.RUNTIME){let r=t.error_message.replace(/\?v=[a-z0-9]{8}/,"?'");e.runtimeErrorMessages.has(r)||(e.runtimeErrorMessages.add(r),e.uniqueErrors.push(t))}else e.uniqueErrors.push(t);return e},t).uniqueErrors},E=e=>{let{projectId:t}=e,[r,n]=(0,i.useState)([]),d=(0,l.SJ)(),g=(0,o.vE)();(0,s.ZP)(g,{protocols:"vite-hmr",share:!0,onMessage:e=>{try{let n=JSON.parse(e.data);if((null==n?void 0:n.type)==="error"){var r;c.logging.info("build_error_from_devserver",{message:null==n?void 0:null===(r=n.err)||void 0===r?void 0:r.message});let e=f.p.safeParse(null==n?void 0:n.err);e.success?(0,m.e)(e.data,t,d):(c.logging.error("error_parsing_devserver_error",{error:e}),(0,m.e)(null==n?void 0:n.err,t,d))}}catch(e){c.logging.error("error_parsing_devserver_error",{error:e})}},onOpen:e=>{c.logging.debug("devserver_websocket_open")},onClose:e=>{c.logging.debug("devserver_websocket_close")},onError:e=>{c.logging.error("devserver_websocket_error",{event:e})},shouldReconnect:()=>!0,reconnectInterval:1e3});let p=v({projectId:t,errorIds:r.map(e=>e.id),setErrors:n});return(0,i.useEffect)(()=>{let e=function(e,t){let r=(0,a.hJ)(u.db,"projects/".concat(e,"/errors")),n=(0,a.IO)(r,(0,a.ar)("handled_at","==",null));return(0,a.cf)(n,e=>{e.empty?t([]):t(e.docs.map(e=>({...e.data(),id:e.id})))})}(t,n);return()=>e()},[t]),{errors:(0,i.useMemo)(()=>0===r.length?null:h(r),[r]),setErrors:n,handleErrorMutation:r.length>0?p:null}}},92887:function(e,t,r){"use strict";r.d(t,{Q:function(){return i}});var n=r(98244);let a=["brand-ocean-primary","brand-twilight-primary","brand-flamingo-primary","brand-bubblegum-primary","brand-saffron-primary","brand-tiger-primary"];function i(e){return(0,n.useMemo)(()=>{e||(e="fake-user");let t=function(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t&=t;return Math.abs(t)}(e)%a.length;return a[t]},[e])}},17176:function(e,t,r){"use strict";r.d(t,{t:function(){return a}});var n=r(92104);let a=e=>{let{projectId:t,projectName:r,useCacheBuster:a,sha:i}=e;if(!t&&!r)throw Error("projectId or projectName must be provided");if(t&&r)throw Error("projectId and projectName cannot both be provided");let s=n.env.NEXT_PUBLIC_PROXY_WORKER_PROTOCOL||"https",o=n.env.NEXT_PUBLIC_PROXY_WORKER_PORT?":".concat(n.env.NEXT_PUBLIC_PROXY_WORKER_PORT):"",l=i?"-".concat(i.slice(0,8)):"";try{let e=new URL("".concat(s,"://").concat(void 0!==r?"preview":"id-preview").concat(l,"--").concat(r||t,".").concat("lovable.app").concat(o));return a&&e.searchParams.set("cache",Date.now().toString()),e.toString()}catch(e){return window.location.href="/","/"}}},33864:function(e,t,r){"use strict";function n(e){return Number.isInteger(e)?e.toString():e.toFixed(2)}function a(e,t){return"".concat(n(e),"/").concat(n(t))}r.d(t,{H:function(){return n},u:function(){return a}})},58010:function(e,t,r){"use strict";r.d(t,{LJ:function(){return i},ZU:function(){return o},sb:function(){return s}});var n=r(18587),a=r(72353);function i(e){return{absolute:(0,n.WU)(e,"h:mm a"),relative:(0,n.WU)(e,"h:mm a")}}function s(e){let t=!(0,a.X)(e),r="MMM d";return t&&(r+=", yyyy"),r+=", h:mm a",{absolute:(0,n.WU)(e,r),relative:(0,n.WU)(e,r)}}function o(e){return"string"==typeof e?new Date(e):e.toDate()}},38109:function(e,t,r){"use strict";r.d(t,{F:function(){return u},f:function(){return c}});var n=r(98244);let a=["light","dark"],i="(prefers-color-scheme: dark)",s="undefined"==typeof window,o=(0,n.createContext)(void 0),l={setTheme:e=>{},themes:[]},u=()=>{var e;return null!==(e=(0,n.useContext)(o))&&void 0!==e?e:l},c=e=>(0,n.useContext)(o)?n.createElement(n.Fragment,null,e.children):n.createElement(f,e),d=["light","dark"],f=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:s=!0,storageKey:l="theme",themes:u=d,defaultTheme:c=r?"system":"light",attribute:f="data-theme",value:h,children:E,nonce:_})=>{let[y,b]=(0,n.useState)(()=>g(l,c)),[N,x]=(0,n.useState)(()=>g(l)),I=h?Object.values(h):u,w=(0,n.useCallback)(e=>{let n=e;if(!n)return;"system"===e&&r&&(n=v());let i=h?h[n]:n,o=t?p():null,l=document.documentElement;if("class"===f?(l.classList.remove(...I),i&&l.classList.add(i)):i?l.setAttribute(f,i):l.removeAttribute(f),s){let e=a.includes(c)?c:null,t=a.includes(n)?n:e;l.style.colorScheme=t}null==o||o()},[]),S=(0,n.useCallback)(e=>{b(e);try{localStorage.setItem(l,e)}catch(e){}},[e]),R=(0,n.useCallback)(t=>{x(v(t)),"system"===y&&r&&!e&&w("system")},[y,e]);(0,n.useEffect)(()=>{let e=window.matchMedia(i);return e.addListener(R),R(e),()=>e.removeListener(R)},[R]),(0,n.useEffect)(()=>{let e=e=>{e.key===l&&S(e.newValue||c)};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[S]),(0,n.useEffect)(()=>{w(null!=e?e:y)},[e,y]);let C=(0,n.useMemo)(()=>({theme:y,setTheme:S,forcedTheme:e,resolvedTheme:"system"===y?N:y,themes:r?[...u,"system"]:u,systemTheme:r?N:void 0}),[y,S,e,N,r,u]);return n.createElement(o.Provider,{value:C},n.createElement(m,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:s,storageKey:l,themes:u,defaultTheme:c,attribute:f,value:h,children:E,attrs:I,nonce:_}),E)},m=(0,n.memo)(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:s,enableColorScheme:o,defaultTheme:l,value:u,attrs:c,nonce:d})=>{let f="system"===l,m="class"===r?`var d=document.documentElement,c=d.classList;c.remove(${c.map(e=>`'${e}'`).join(",")});`:`var d=document.documentElement,n='${r}',s='setAttribute';`,g=o?a.includes(l)&&l?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${l}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(e,t=!1,n=!0)=>{let i=u?u[e]:e,s=t?e+"|| ''":`'${i}'`,l="";return o&&n&&!t&&a.includes(e)&&(l+=`d.style.colorScheme = '${e}';`),"class"===r?l+=t||i?`c.add(${s})`:"null":i&&(l+=`d[s](n,${s})`),l},v=e?`!function(){${m}${p(e)}}()`:s?`!function(){try{${m}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${f})){var t='${i}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${u?`var x=${JSON.stringify(u)};`:""}${p(u?"x[e]":"e",!0)}}${f?"":"else{"+p(l,!1,!1)+"}"}${g}}catch(e){}}()`:`!function(){try{${m}var e=localStorage.getItem('${t}');if(e){${u?`var x=${JSON.stringify(u)};`:""}${p(u?"x[e]":"e",!0)}}else{${p(l,!1,!1)};}${g}}catch(t){}}();`;return n.createElement("script",{nonce:d,dangerouslySetInnerHTML:{__html:v}})},()=>!0),g=(e,t)=>{let r;if(!s){try{r=localStorage.getItem(e)||void 0}catch(e){}return r||t}},p=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},v=e=>(e||(e=window.matchMedia(i)),e.matches?"dark":"light")},43456:function(e,t,r){"use strict";t.ZP=void 0;var n=r(36397);Object.defineProperty(t,"ZP",{enumerable:!0,get:function(){return n.useWebSocket}}),r(47130),r(84999),r(26678),r(42893)},26678:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};Object.defineProperty(t,"__esModule",{value:!0}),t.useEventSource=void 0;var i=r(98244),s=r(36397),o=r(84999);t.useEventSource=function(e,t,r){void 0===t&&(t=o.DEFAULT_EVENT_SOURCE_OPTIONS);var l=t.withCredentials,u=t.events,c=a(t,["withCredentials","events"]);void 0===r&&(r=!0);var d=n(n({},c),{eventSourceOptions:{withCredentials:l}}),f=(0,i.useRef)(o.EMPTY_EVENT_HANDLERS);u&&(f.current=u);var m=(0,s.useWebSocket)(e,d,r),g=m.lastMessage,p=m.readyState,v=m.getWebSocket;return(0,i.useEffect)(function(){(null==g?void 0:g.type)&&Object.entries(f.current).forEach(function(e){var t=e[0],r=e[1];t===g.type&&r(g)})},[g]),{lastEvent:g,readyState:p,getEventSource:v}}},47130:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.useSocketIO=void 0;var a=r(98244),i=r(36397),s=r(84999),o={type:"empty",payload:null},l=function(e){if(!e||!e.data)return o;var t=e.data.match(/\[.*]/);if(!t)return o;var r=JSON.parse(t);return Array.isArray(r)&&r[1]?{type:r[0],payload:r[1]}:o};t.useSocketIO=function(e,t,r){void 0===t&&(t=s.DEFAULT_OPTIONS),void 0===r&&(r=!0);var o=(0,a.useMemo)(function(){return n(n({},t),{fromSocketIO:!0})},[]),u=(0,i.useWebSocket)(e,o,r),c=u.sendMessage,d=u.sendJsonMessage,f=u.lastMessage,m=u.readyState,g=u.getWebSocket,p=(0,a.useMemo)(function(){return l(f)},[f]);return{sendMessage:c,sendJsonMessage:d,lastMessage:p,lastJsonMessage:p,readyState:m,getWebSocket:g}}},32315:function(e,t,r){"use strict";r.d(t,{Fw:function(){return N},VY:function(){return R},fC:function(){return w},p_:function(){return p},wy:function(){return y},xz:function(){return S}});var n=r(98244),a=r(52886),i=r(10635),s=r(92542),o=r(81605),l=r(96501),u=r(5408),c=r(64626),d=r(84823),f=r(52155),m="Collapsible",[g,p]=(0,i.b)(m),[v,h]=g(m),E=n.forwardRef((e,t)=>{let{__scopeCollapsible:r,open:a,defaultOpen:i,disabled:o,onOpenChange:l,...c}=e,[g,p]=(0,s.T)({prop:a,defaultProp:null!=i&&i,onChange:l,caller:m});return(0,f.jsx)(v,{scope:r,disabled:o,contentId:(0,d.M)(),open:g,onOpenToggle:n.useCallback(()=>p(e=>!e),[p]),children:(0,f.jsx)(u.WV.div,{"data-state":I(g),"data-disabled":o?"":void 0,...c,ref:t})})});E.displayName=m;var _="CollapsibleTrigger",y=n.forwardRef((e,t)=>{let{__scopeCollapsible:r,...n}=e,i=h(_,r);return(0,f.jsx)(u.WV.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":I(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:t,onClick:(0,a.M)(e.onClick,i.onOpenToggle)})});y.displayName=_;var b="CollapsibleContent",N=n.forwardRef((e,t)=>{let{forceMount:r,...n}=e,a=h(b,e.__scopeCollapsible);return(0,f.jsx)(c.z,{present:r||a.open,children:e=>{let{present:r}=e;return(0,f.jsx)(x,{...n,ref:t,present:r})}})});N.displayName=b;var x=n.forwardRef((e,t)=>{let{__scopeCollapsible:r,present:a,children:i,...s}=e,c=h(b,r),[d,m]=n.useState(a),g=n.useRef(null),p=(0,l.e)(t,g),v=n.useRef(0),E=v.current,_=n.useRef(0),y=_.current,N=c.open||d,x=n.useRef(N),w=n.useRef(void 0);return n.useEffect(()=>{let e=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,o.b)(()=>{let e=g.current;if(e){w.current=w.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";let t=e.getBoundingClientRect();v.current=t.height,_.current=t.width,x.current||(e.style.transitionDuration=w.current.transitionDuration,e.style.animationName=w.current.animationName),m(a)}},[c.open,a]),(0,f.jsx)(u.WV.div,{"data-state":I(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!N,...s,ref:p,style:{"--radix-collapsible-content-height":E?"".concat(E,"px"):void 0,"--radix-collapsible-content-width":y?"".concat(y,"px"):void 0,...e.style},children:N&&i})});function I(e){return e?"open":"closed"}var w=E,S=y,R=N},72353:function(e,t,r){"use strict";r.d(t,{X:function(){return i}});var n=r(16309),a=r(41423);function i(e){return function(e,t){let r=(0,a.Q)(e),n=(0,a.Q)(t);return r.getFullYear()===n.getFullYear()}(e,(0,n.y)(e))}},29717:function(e,t,r){"use strict";r.d(t,{k:function(){return i}});var n=r(41423),a=r(49974);function i(e,t){return function(e,t){let r=(0,n.Q)(e);return isNaN(t)?(0,a.L)(e,NaN):(t&&r.setDate(r.getDate()+t),r)}(e,-t)}}},function(e){e.O(0,[8622,9241,2625,1729,4282,2255,1307,313,2421,6555,7522,2703,2352,5283,5243,9361,3521,2122,6166,5394,5108,8046,8089,704,9217,7025,368,2368,3556,8476,7929,8648,9792,4671,7658,5619,3880,113,995,4842,7472,6839,5143,1744],function(){return e(e.s=34700)}),_N_E=e.O()}]);